DROP TABLE IF EXISTS transfers;

CREATE TABLE IF NOT EXISTS transfers
(
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    SOURCE_ID BIGINT NOT NULL,
    TARGET_ID BIGINT NOT NULL,
    AMOUNT BIGINT NOT NULL,
    TRANSFER_TIME TIMESTAMP(6) NOT NULL,
    FOREIGN KEY (SOURCE_ID) REFERENCES accounts (ID) ON UPDATE CASCADE ON DELETE SET NULL,
    FOREIGN KEY (TARGET_ID) REFERENCES accounts (ID) ON UPDATE CASCADE ON DELETE SET NULL
);